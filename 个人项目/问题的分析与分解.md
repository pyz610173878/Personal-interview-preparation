# 项目描述法

## 介绍项目背景

当时公司有一个电视机来显示每日的生产进度信息。是用一个Excel表格来进行展示。为了能更加直观且每个人登录系统都可以看到数据，所以决定把他放在系统中。

## 承担的角色（我的任务）

任务其实就是描述需求，清洗的描述需求。四个页面需要先讲，然后再讲可视化看板。

### 

## 我的思考过程与解决方案

如何分解问题的。用了什么技术，框架。





## 最终的结果与收益





## 项目总结与反思（又遇到了什么难点）



### 反思

一个查询接口就写了我好久。就二三十行代码。为什么呢？

那个组件没有用过。没办法。遇到类似情况应该怎么办呢？先去找demo，知道每个属性的作用，与基本用法。在改到你的项目中。不要一上来就在项目中，改啊改。



### 总结





## 项目细节与技术点的追问

介绍项目的过程中，面试官可能会追问技术细节，所以在准备面试的时候，应该尽量把技术细节梳理清楚，技术细节包括：  

● 技术选型方案：当时做技术选型所面临的状况 

● 技术解决方案：最终确定某种技术方案的原因，比如：选择用 Vue 而没有用 React 是为什么？

 ● 项目数据和收益 ● 项目中最难的地方 ● 遇见的坑：如使用某种框架遇见哪些坑  一般来说，做技术选型的时候需要考虑下面几个因素：  ● 时代：现在比较火的技术是什么，为什么火起来，解决了什么问题，能否用到我的项目中？ ● 团队：个人或者团队对某种技术的熟悉程度是怎样的，学习成本又是怎样的？ ● 业务需求：需求是怎样的，能否套用现在的成熟解决方案/库来快速解决？ ● 维护成本：一个解决方案的是否再能够 cover 住的范围之内？  在项目中遇见的数据和收益应该做好跟踪，保证数据的真实性和可信性。另外，遇见的坑可能是面试官问得比较多的，尤其现在比较火的一些技术（Vue、React、webpack），一般团队都在使用，所以一定要提前准备  下。



可以想想这个技术点为什么会出来？是为了解决什么样的问题？然后就是怎么使用？在使用的过程中有什么要注意的地方？（最好是和你做的项目或实习内容结合起来）在实习经历和项目内容上最好有一些两点，而不是单纯的业务内容，最好你在做一个需求时，考虑到能不能为这个团队做出一些贡献，而不是单纯地完成这个需求。举个栗子：比如这时给了你一个杂活，让你把代码中地ES5函数转换成ES6函数，你可以手动的自己去一个个的改，但更好的方式是你可以去找一个插件（如果没有的话，可以自己写一个）比如eslint插件，或者vscode插件。用工具的方式解决一个简单而重复的需求。后面还可以涉及到版本升级，做自动国际化插件等等。如果你在实习或者项目中做出一个插件，我觉得这就是一个亮点



# star 法则聊项目



## 情境 背景



## 任务



## 行动



## 结果







# 查看接口文档



# 原型图

![image-20231123095433989](%E9%97%AE%E9%A2%98%E7%9A%84%E5%88%86%E6%9E%90%E4%B8%8E%E5%88%86%E8%A7%A3.assets/image-20231123095433989-17007044747771.png)





## 下拉框

这里的数据是从后台调用的。这里用到了两个组件。`el-select`和`el-option`。先熟悉下这两个组件的基本使用吧。



```vue
<el-option
              v-for="item in options"
              :key="item.value"
              :label="item.label"
              :value="item.value">
              </el-option>

options的值是一个数组嵌套对象。但是这里的数据是静态的。我的数组是动态的。
但我只需要获取一个值，且需要遍历。后台的数据就是一个数组嵌套对象。那我需要先拿到数据，然后进行渲染。是吧。
```

获取后台数据，保存在数组中，通过v-for进行遍历。

首先get函数。



### 定义数据的类型



### 请求函数应该如何写



```js
function getSearch() {
  loading.value = true;
  searchOrder(queryParams.value).then((res) => {
    tableData.value = res.data;
    console.log(res.data, "123");
    total.value = res.total;
    // 一共有多少条数据
    loading.value = false;
  });

}
```







## 列表渲染

### 1. 先看案例

了解这些值的作用。值已经了解了。没啥难点。

```vue
<el-table :data="tableData" style="width: 100%">
    <el-table-column prop="date" label="Date1" width="180" />
    <el-table-column prop="name" label="Name1" width="180" />
    <el-table-column prop="address" label="Address1" />
  </el-table>
```

其中data是整个数源。各个行中的`prop`是某个属性值。他会自动渲染数据源中的所有data属性的值。我的信息是动态的。所以就是说，我的data也是动态的。是从后端获取的。我只需要定义一个数据结构就好了。然后prop值，后端其实也定义好了。



我是不是首先要了解什么是二次封装。

### 2. 然后再换成接口信息



## 列表的二次封装

接口请求数据是哪个？有没有便捷的方式，测试后台发过来的数据。这么多我都分不清，哪个接口是我想要的。一个个测试一下把。这是第一个问题。高效率的测试接口的方式和技巧。

```
├── src
│   ├── api                 
│   │   ├── table/index.ts  # 表格列表数据获取接口请求 //已经找到了就是一个数组嵌套对象的数据结构。
│   ├── components          
│   │   └── SpursTable           # 表格组件
│	│			└── tableType.ts # 表格配置和表格每一行的配置
│   │       	└── index.vue 	# 表格二次封装的主要业务代码
│   ├── views               # 页面
│   │   ├── userList
│   │   	└── tableConfig.ts # 表格配置json
│   │   │   └── index.vue # 表格入口
```



## 熟悉代码

修修改改。

不是熟悉代码，而是搞清楚逻辑。逻辑搞不清楚代码根本看不懂。









## 二次封装

在Element Plus中，组件的二次封装通常是指创建一个新的组件，这个新组件会接收一个或多个Element Plus的组件作为props，然后在新的组件中使用这些组件，同时还可以添加一些新的功能或样式。









# 部门管理

如果我们把这四个页面都看成是一个对象。他们都存在共同的属性，也就是表格的页面渲染。根据模块化设计原则，1

可以抽象一个公共的表格组件，实现复用。降低耦合。那我们就开干把。表格的二次封装。什么算是好的二次封装呢？



```
先从数据传输方面来看。
他会自动根据后端传输的数据来进行渲染页面。其他的属性我们都不需要动了。只需要动后端接口地址就行。
要完成这个组件。


首先需要了解什么是组件。如何自定义组件。
看看别人怎么写组件的。特别是element-plus中的组件。就特别的好用。引入传递参数。就完了，多好。



二次封装，那本书其实就讲过了。那是一个比较好的入门开始。掘金那个只是把代码贴出来了。没啥意思。
那我们还是先这样写把。
```



## 分析与拆解

```
1. 套用模板，修改属性与新增标签。
2. 创建新请求，接受返回数据。


3. 编辑和删除。
	会弹出什么界面呢？弹出的界面无非就是修改信息。对吧。
	部门名称，组名称，宣言，说明。每一个都是input输入框。也不一定。
	部门名称是下拉框的渲染。组名称应该也是把。只有宣言和说明不是。
	
	
	宣言和说明的数据需要校验还需要提醒。
	
	
	2. 权限问题不是所有人都可以进行新建。根据用户的权限显示或者隐藏新建按钮和删除按钮。
	
	
	3. 提交与重置表单。用户输入完毕需要提交数据给后台。然后表单中的信息需要初始化。
```



### 对话框逻辑

```
1. 改为true
2. 表单初始化。
3. 各个表单的数据校对
4. 下拉框获取数据进行渲染。
```







## bug记录



### 路由渲染出错





# 用户信息管理





## 部门下拉框

用户信息有一个下拉框，下拉框中是各个部门的名称。我当时使用的是`el-select`下拉框。需要用到的就是其中的option组件，里面有三个值。key label value。使用v-for属性遍历数组。创建一个响应式数组，调用接口把值保存在数组中即可。其中`label`是显示的数据。

```vue
 <el-option v-for="item in selectdepts" :key="index" :label="item.deptName" :value="item.deptName">
```

<img src="%E9%97%AE%E9%A2%98%E7%9A%84%E5%88%86%E6%9E%90%E4%B8%8E%E5%88%86%E8%A7%A3.assets/image-20231220110625967-17030415867023.png" alt="image-20231220110625967" style="zoom:50%;" />



## 查询用户

根据部门查询对应的角色。

```
首先默认渲染某个部门的数据。
第二新增数据之后要重新获取数据。
查询接口的参数，传递进去的是部门的id。deptid。这里把下拉框的：value值改成deptid。就可以了。
但是zh
```







## 新增用户

第一，页面的主要结构。是由xx组成。我觉得第一部就是，创建组件与定义数据类型。第二就是制定校对规则。不是所有类型的数据，也就是判断数据是否合法。不能什么数据都能进行上传。然后就是，有些地方的数据，甚至很多数据都是动态的（从后台接受的），所以在新增用户之前就需要获取到这些信息。比如你的本来的电话号码，你本来的个人信息。这都是要先获取的。最后一步就是，把所有的数据进行整合，然后发送个后端，发送完之后，还需要情况整个表单。

不需要再次获取，新增用户之前就会获取最新的数据。这是多此一举。我要把问题分解一下，然后发给他。要不然他也不知道怎么跟我shuo



### 需求的分析

```
1. 点击新增按钮，弹出对话框，初始化表单，获取对应的后台数据。比如部门信息，手机号。
2. 各种输入框的校队。比如用户名，手机号，和图片上传。
	1.1 其中图片上传比较难。（这个bug先放在这里）
	1.2 图片上传逻辑需要写在用户信息页面中。我现在有一个现成的上传组件。我的思路是把这个页面直接复制过来，拿来用。怎么复制呢？哪些东西要丢掉，哪些东西又需要留着呢？东西都需要留着，
	成功处理函数中，res参数就是请求成功的参数。里面报告imgurl地址。那我只需要把这个值，传递给定义的响应式对象就可以了。
3. 确定按钮（也就是数据的上传）
	1.1 我现在需要把四个参数，弄成一个对象，传递给
4. 取消按钮
	1.1 依旧需要重置表单。反正你需要在弹出新增用户对话框不能有数据。
	
	
	
	
	
	
```









### 表单的验证

这个我以前写过。



他的主要流程是什么。

定义一个方法。

传递参数。

```
根据token值来判断是否有权限。
```

后台校对参数的类型与权限。

​	成功的情况：返回成功的情况，重置表单

​	不成功的情况：返回提示信息





### 四个参数

```
{
  "roleId": 103,
  "userName": "Bb",
  "phonenumber": "15888889999",
  "avatar": ""
}

新增用户分别为四个参数。
roleid是怎么来的。

```







### 了解post请求

在发请求我需要认证用户的权限，也就是令牌。

这里可以顺便了解post请求。

### 请求头（Request Headers）

请求头是客户端（通常是浏览器）发送给服务器的信息，用于描述客户端的请求。这些头部可以包括：

* `Accept`：客户端可接受的数据类型。
* `Authorization`：用于身份验证的凭证。
* `Cookie`：客户端的cookie信息。
* `User-Agent`：客户端的用户代理信息。
* `Content-Type`：请求体的数据类型。
* `Referer`：发起请求的页面的URL。

### 响应头（Response Headers）

响应头是服务器发送给客户端的信息，用于描述服务器的响应。这些头部可以包括：

* `Server`：服务器的软件信息。
* `Set-Cookie`：服务器设置的cookie信息。
* `Content-Type`：响应体的数据类型。
* `Location`：重定向的URL。
* `WWW-Authenticate`：用于身份验证的凭证。
* `Cache-Control`：缓存控制信息。

总的来说，请求头和响应头都是HTTP协议的一部分，它们都用于传递信息，但它们的用途和功能有所不同。请求头用于描述客户端的请求，而响应头用于描述服务器的响应。









## bug记录

上传文件出现404.地址是存在的，那么问题只能存在组件的action属性上。因为前几次的测试不会报错（404）。





### 别人写好的组件

学习若依写好的组件。学习组件最好的方式，就是直接看一个示例，然后让ai跟你进行解释。每一个属性的作用。

```
multiple: 允许选择多个文件进行上传。
action: 上传文件的 URL。
list-type: 文件列表的类型，这里是图片卡片列表。
on-success: 上传成功后调用的函数。
before-upload: 上传前调用的函数，如果这个函数返回 false 或者一个解析为 false 的 Promise，那么上传将被中止。
limit: 可以上传的文件的最大数量。
on-error: 上传过程中发生错误时调用的函数。
on-exceed: 上传的文件数量超过限制时调用的函数。
name: 文件输入的名称。
on-remove: 移除文件时调用的函数。
show-file-list: 是否显示文件列表。
headers: 上传请求的自定义头部。
file-list: 要上传的文件列表。
on-preview: 点击文件进行预览时调用的函数。
class: 要应用到组件上的 CSS 类。
```









你在跟别人讲的时候，要透露你分析与拆解问题的能力。比如面试官问你，你做了什么功能。你说我做了图片上传功能。然后使用了别人的组件。你是不是啥，你难道不知道。

## 图片上传功能

### 分析问题

这个功能就是我们把图片上传解码，并通过post的请求把数据发送给服务器。这个功能跟新增功能很相似，只是数据的格式改成了图片。饿了么的上传组件可以实现文件的上传。我们可以在此组件上进行修改。然后post请求。我们只需要上传个人的图片（头像）。首先定义上传图片的数量，大小和文件类型(后端返回的文件没有的类型的限制)



我在想一个正确的问题分解步骤。查看接口的请求参数。这里只有

甚至用户校对的问题。因为不是所有人都可以上传数据的。经过分析，我把这个功能拆分成了几个子任务。



### 组件属性的学习



### 编写各种上传方式的函数



### 上传回调处理函数。







### 上传前校队与加载

```
1. 检查是否提供了并且不是空的 props.fileType 数组
2. 提取文件的扩展名。比如png，jpg，jpeg格式。
	1.1 使用lastIndexOf方法判断.后面有没有字符，如果有把后缀名提取出来。
3. 检查数组中是否有与之匹配的格式。（）
4. 检查文件大小是否为指定范围。
```











## 共性

`get`和`post`请求是前端非常常见的需求。几乎每天都用得到。你也看见了，后台管理系统中的很多功能。

都是获取数据，接受获取，修改数据，删除数据。说白了就是增删改查模块。你现在做的就是类似的模块。

这是实习生一定会干的活。就是增删改查。













# 角色信息管理

```

```







# 图表可视化

![image-20231212111247665](%E9%97%AE%E9%A2%98%E7%9A%84%E5%88%86%E6%9E%90%E4%B8%8E%E5%88%86%E8%A7%A3.assets/image-20231212111247665-17023507695141.png)



## 需求

参考这个布局，用可视化的方式展现出来。



## 拆分问题



```
了解如何引入。
基本的使用。
2. 查看demo。
总结可视化库的基本流程。
3. 看他的视频。
4. 把数据改成真实的数据。
	1. 改bug
	2. 优化
5. 学习看板数据视频
6. 自己写一遍
7. 改成接口数据。
	1. 测试与改bug。
	


我在从零自己写一个信息管理模块。
主要学习一些思维与好习惯。
这是最重要的。
然后学习组件库的封装与开发。



代码生成与表单构建可以搞搞，感觉很厉害。
把那个uniapp学一下吧。
```



## 

